<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>TODO LIST - ALPINEJS</title>
    <link rel="stylesheet" href="./css/style.css">
    <script src="https://polyfill.io/v3/polyfill.min.js?features=MutationObserver%2CArray.from%2CArray.prototype.forEach%2CMap%2CSet%2CArray.prototype.includes%2CString.prototype.includes%2CPromise%2CNodeList.prototype.forEach%2CObject.values%2CReflect%2CReflect.set"></script>
    <script src="https://cdn.jsdelivr.net/npm/proxy-polyfill@0.3.0/proxy.min.js"></script>
    <script src="./app.js"></script>
    <script src="./functions.js"></script>
</head>
<body class="bg-blue-200">
    <section x-data="{model: {title: '', content: ''}, todos: []}" 
     class="grid grid-rows-1 grid-cols-12 p-2 gap-4 max-w-screen-lg min-h-full mx-auto">
            <section class="col-span-12 sm:col-span-5 h-full w-full">
                <form class="p-3 w-full bg-white shadow-sm sm:sticky sm:top-0">
                    <fieldset>
                        <input x-model="model.title" class="h-10 pl-2 w-full border-b border-gray-400" type="text" placeholder="Titre">
                        <textarea x-model="model.content" class="mt-4 pl-2 w-full h-40 border-b border-gray-400" placeholder="Contenu"></textarea>
                        <div class="flex flex-wrap justify-around">
                            <button @click="addTask(model, todos)" class="mt-5 mx-4 border border-blue-700 bg-blue-500 h-10 w-40 max-w-40 flex-grow rounded text-white font-bold" type="button">Enregistrer</button>
                            <button class="mt-5 mx-4 border border-grey-700 bg-gray-300 h-10 w-40 max-w-40 flex-grow rounded text-gray-700 font-bold" type="button">Effacer</button>
                        </div>
                    </fieldset>
                </form>
            </section>
            <main class="todo-list col-span-12 sm:col-span-7 h-full gap-4">
                <template x-for="todo in todos">
                    <div class="m-2 bg-white shadow-md w-56 p-2 break-words fit-height">
                        <h4 class="text-xs" x-text="todo.title"></h4>
                        <p class="text-sm antialiased leading-snug" x-text="todo.content"></p>
                    </div>  
                </template>
            </main>
    </section>    
</body>
</html>